{"remainingRequest":"D:\\software_ware\\workspace_idea\\grower\\vue-admin\\vue-admin-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\software_ware\\workspace_idea\\grower\\vue-admin\\vue-admin-vue\\src\\utils\\axios.js","dependencies":[{"path":"D:\\software_ware\\workspace_idea\\grower\\vue-admin\\vue-admin-vue\\src\\utils\\axios.js","mtime":1648710808681},{"path":"D:\\software_ware\\workspace_idea\\grower\\vue-admin\\vue-admin-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1620148001861},{"path":"D:\\software_ware\\workspace_idea\\grower\\vue-admin\\vue-admin-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1620148001577}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vID8g5YaF5a6577ya5YWo5bGA5ZON5bqU5oum5oiq77yI54q25oCB56CB77yJ77yM5qC55o2u44CQ5LiN5ZCMVVJM44CR5aSE55CG44CQ5LiN5ZCM55qE5Yqo5L2c44CRCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBFbGVtZW50IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgcm91dGVyIGZyb20gJy4uL3JvdXRlcic7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7IC8vIOW8gOWQr2Jhc2VVUkzvvIzljbPkvb9Nb2Nr5pWw5o2u5Li6ODA4MOerr+WPo+S5n+S8mui/m+ihjOaLpuaIqu+8jOWboOatpOa1i+ivlU1jb2vmlbDmja7ml7blhbPpl63mraRiYXNlVVJMCgpheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6ODc2NSc7IC8vIOWIm+W7uue7n+S4gOeahCBheGlvcyDlr7nosaEKCnZhciBoYW5kbGUgPSBheGlvcy5jcmVhdGUoewogIHRpbWVvdXQ6IDUwMDAsCiAgaGVhZGVyczogewogICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JwogIH0KfSk7IC8vIOWJjee9ruaLpuaIqgoKaGFuZGxlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoc3VjYykgewogIHN1Y2MuaGVhZGVyc1snYXV0aG9yaXphdGlvbiddID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CiAgcmV0dXJuIHN1Y2M7Cn0pOyAvLyDlkI7nva7mi6bmiKoKCmhhbmRsZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKCAvLyDnirbmgIHnoIHplJnor68KZnVuY3Rpb24gKHN1Y2MpIHsKICAvLyDnirbmgIHnoIHvvIwyMDAKICBpZiAoc3VjYy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgcmV0dXJuIHN1Y2M7CiAgfSAvLyDnirbmgIHnoIHvvIzpnZ4yMDAKCgogIGlmIChzdWNjLmRhdGEuY29kZSAhPT0gMjAwKSB7CiAgICB2YXIgbWVzcyA9IHN1Y2MuZGF0YS5tc2c7CiAgICBFbGVtZW50Lk1lc3NhZ2UuZXJyb3IobWVzcywgewogICAgICBkdXJhdGlvbjogMyAqIDEwMDAKICAgIH0pOyAvLyDmtojmga/lvLnnqpcKCiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobWVzcyk7CiAgfQp9LCAvLyDnqIvluo/ov5DooYzplJnor68KZnVuY3Rpb24gKGVycm9yKSB7CiAgLy8g5aSE55CGQXNzZXJ055qE5byC5bi477yM5q+U5aaC77yaQXNzZXJ0Lm5vdE51bGwodXNlciwgIueUqOaIt+S4jeWtmOWcqCEiKTsKICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YSkgewogICAgdmFyIG1lc3MgPSBlcnJvci5yZXNwb25zZS5kYXRhLm1zZzsKICAgIEVsZW1lbnQuTWVzc2FnZS5lcnJvcihtZXNzLCB7CiAgICAgIGR1cmF0aW9uOiAzICogMTAwMAogICAgfSk7IC8vIOa2iOaBr+W8ueeqlwoKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChtZXNzKTsKICB9IC8vIOWkhOeQhlNoaXJv55qE5byC5bi477yM5q+U5aaC77ya55So5oi35p2D6ZmQ44CB55So5oi355m75b2VCgoKICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsKICAgIHN0b3JlLmNvbW1pdCgnUkVNT1ZFX0FMTCcpOwogICAgcm91dGVyLnB1c2goJy9sb2dpbicpOwogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IGhhbmRsZTs="},{"version":3,"sources":["D:/software_ware/workspace_idea/grower/vue-admin/vue-admin-vue/src/utils/axios.js"],"names":["axios","Element","router","store","defaults","baseURL","handle","create","timeout","headers","interceptors","request","use","succ","localStorage","getItem","response","data","code","mess","msg","Message","error","duration","Promise","reject","status","commit","push"],"mappings":";AAAA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,KAAP,MAAkB,UAAlB,C,CAEA;;AACAH,KAAK,CAACI,QAAN,CAAeC,OAAf,GAAyB,uBAAzB,C,CAEA;;AACA,IAAMC,MAAM,GAAGN,KAAK,CAACO,MAAN,CAAa;AAC1BC,EAAAA,OAAO,EAAE,IADiB;AAE1BC,EAAAA,OAAO,EAAE;AACP,oBAAgB;AADT;AAFiB,CAAb,CAAf,C,CAOA;;AACAH,MAAM,CAACI,YAAP,CAAoBC,OAApB,CAA4BC,GAA5B,CAAgC,UAACC,IAAD,EAAU;AACxCA,EAAAA,IAAI,CAACJ,OAAL,CAAa,eAAb,IAAgCK,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAhC;AACA,SAAOF,IAAP;AACD,CAHD,E,CAKA;;AACAP,MAAM,CAACI,YAAP,CAAoBM,QAApB,CAA6BJ,GAA7B,EACE;AACA,UAACC,IAAD,EAAU;AACR;AACA,MAAIA,IAAI,CAACI,IAAL,CAAUC,IAAV,KAAmB,GAAvB,EAA4B;AAC1B,WAAOL,IAAP;AACD,GAJO,CAMR;;;AACA,MAAIA,IAAI,CAACI,IAAL,CAAUC,IAAV,KAAmB,GAAvB,EAA4B;AAC1B,QAAIC,IAAI,GAAGN,IAAI,CAACI,IAAL,CAAUG,GAArB;AACAnB,IAAAA,OAAO,CAACoB,OAAR,CAAgBC,KAAhB,CAAsBH,IAAtB,EAA4B;AAAEI,MAAAA,QAAQ,EAAE,IAAI;AAAhB,KAA5B,EAF0B,CAE0B;;AACpD,WAAOC,OAAO,CAACC,MAAR,CAAeN,IAAf,CAAP;AACD;AACF,CAdH,EAgBE;AACA,UAACG,KAAD,EAAW;AACT;AACA,MAAIA,KAAK,CAACN,QAAN,CAAeC,IAAnB,EAAyB;AACvB,QAAIE,IAAI,GAAGG,KAAK,CAACN,QAAN,CAAeC,IAAf,CAAoBG,GAA/B;AACAnB,IAAAA,OAAO,CAACoB,OAAR,CAAgBC,KAAhB,CAAsBH,IAAtB,EAA4B;AAAEI,MAAAA,QAAQ,EAAE,IAAI;AAAhB,KAA5B,EAFuB,CAE6B;;AACpD,WAAOC,OAAO,CAACC,MAAR,CAAeN,IAAf,CAAP;AACD,GANQ,CAQT;;;AACA,MAAIG,KAAK,CAACN,QAAN,CAAeU,MAAf,KAA0B,GAA9B,EAAmC;AACjCvB,IAAAA,KAAK,CAACwB,MAAN,CAAa,YAAb;AACAzB,IAAAA,MAAM,CAAC0B,IAAP,CAAY,QAAZ;AACD;AACF,CA9BH;AAiCA,eAAetB,MAAf","sourcesContent":["// ? 内容：全局响应拦截（状态码），根据【不同URL】处理【不同的动作】\n\nimport axios from 'axios'\nimport Element from 'element-ui'\nimport router from '../router'\nimport store from '../store'\n\n// 开启baseURL，即使Mock数据为8080端口也会进行拦截，因此测试Mcok数据时关闭此baseURL\naxios.defaults.baseURL = 'http://localhost:8765'\n\n// 创建统一的 axios 对象\nconst handle = axios.create({\n  timeout: 5000,\n  headers: {\n    'Content-Type': 'application/json; charset=utf-8',\n  },\n})\n\n// 前置拦截\nhandle.interceptors.request.use((succ) => {\n  succ.headers['authorization'] = localStorage.getItem('token')\n  return succ\n})\n\n// 后置拦截\nhandle.interceptors.response.use(\n  // 状态码错误\n  (succ) => {\n    // 状态码，200\n    if (succ.data.code === 200) {\n      return succ\n    }\n\n    // 状态码，非200\n    if (succ.data.code !== 200) {\n      let mess = succ.data.msg\n      Element.Message.error(mess, { duration: 3 * 1000 }) // 消息弹窗\n      return Promise.reject(mess)\n    }\n  },\n\n  // 程序运行错误\n  (error) => {\n    // 处理Assert的异常，比如：Assert.notNull(user, \"用户不存在!\");\n    if (error.response.data) {\n      let mess = error.response.data.msg\n      Element.Message.error(mess, { duration: 3 * 1000 }) // 消息弹窗\n      return Promise.reject(mess)\n    }\n\n    // 处理Shiro的异常，比如：用户权限、用户登录\n    if (error.response.status === 401) {\n      store.commit('REMOVE_ALL')\n      router.push('/login')\n    }\n  },\n)\n\nexport default handle\n"]}]}