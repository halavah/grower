{"remainingRequest":"D:\\software_ware\\workspace_idea\\grower\\xblog-tiny\\blog-tiny-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\software_ware\\workspace_idea\\grower\\xblog-tiny\\blog-tiny-vue\\src\\permission.js","dependencies":[{"path":"D:\\software_ware\\workspace_idea\\grower\\xblog-tiny\\blog-tiny-vue\\src\\permission.js","mtime":1648607539356},{"path":"D:\\software_ware\\workspace_idea\\grower\\xblog-tiny\\blog-tiny-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1620148001861},{"path":"D:\\software_ware\\workspace_idea\\grower\\xblog-tiny\\blog-tiny-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1620148001577}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJvdXRlciBmcm9tICIuL3JvdXRlciI7IC8v5p2D6ZmQ5oum5oiq77ya5qC55o2u44CQL3JvdXRlci9pbmRleC5qc+OAkeS4reeahOi3r+eUseinhOWIme+8jOaYr+WQpumcgOimgei/m+ihjOOAkOadg+mZkOmqjOivge+8mueZu+W9leOAkQoKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgLy/liKTmlq3or6Xot6/nlLHmmK/lkKbpnIDopoHnmbvlvZXmnYPpmZAKICBpZiAodG8ubWF0Y2hlZC5zb21lKGZ1bmN0aW9uIChyZWNvcmQpIHsKICAgIHJldHVybiByZWNvcmQubWV0YS5yZXF1aXJlQXV0aDsKICB9KSkgewogICAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIik7CiAgICBjb25zb2xlLmxvZyh0b2tlbik7IC8v5Yik5pat5b2T5YmN55qEdG9rZW7mmK/lkKblrZjlnKgKCiAgICBpZiAodG9rZW4pIHsKICAgICAgaWYgKHRvLnBhdGggPT09ICcvbG9naW4nKSB7fSBlbHNlIHsKICAgICAgICBuZXh0KCk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIG5leHQoewogICAgICAgIHBhdGg6ICcvbG9naW4nCiAgICAgIH0pOwogICAgfQogIH0gZWxzZSB7CiAgICBuZXh0KCk7CiAgfQp9KTs="},{"version":3,"sources":["D:/software_ware/workspace_idea/grower/xblog-tiny/blog-tiny-vue/src/permission.js"],"names":["router","beforeEach","to","from","next","matched","some","record","meta","requireAuth","token","localStorage","getItem","console","log","path"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,UAAnB,C,CAEA;;AACAA,MAAM,CAACC,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAEpC;AACA,MAAIF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACC,IAAP,CAAYC,WAAhB;AAAA,GAAtB,CAAJ,EAAwD;AACtD,QAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ,EAFsD,CAGtD;;AACA,QAAIA,KAAJ,EAAW;AACT,UAAIR,EAAE,CAACa,IAAH,KAAY,QAAhB,EAA0B,CAEzB,CAFD,MAEO;AACLX,QAAAA,IAAI;AACL;AACF,KAND,MAMO;AACLA,MAAAA,IAAI,CAAC;AACHW,QAAAA,IAAI,EAAE;AADH,OAAD,CAAJ;AAGD;AACF,GAfD,MAeO;AACLX,IAAAA,IAAI;AACL;AACF,CArBD","sourcesContent":["import router from \"./router\";\r\n\r\n//权限拦截：根据【/router/index.js】中的路由规则，是否需要进行【权限验证：登录】\r\nrouter.beforeEach((to, from, next) => {\r\n\r\n  //判断该路由是否需要登录权限\r\n  if (to.matched.some(record => record.meta.requireAuth)) {\r\n    const token = localStorage.getItem(\"token\")\r\n    console.log(token)\r\n    //判断当前的token是否存在\r\n    if (token) {\r\n      if (to.path === '/login') {\r\n\r\n      } else {\r\n        next()\r\n      }\r\n    } else {\r\n      next({\r\n        path: '/login'\r\n      })\r\n    }\r\n  } else {\r\n    next()\r\n  }\r\n})"]}]}